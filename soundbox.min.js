/**
 * SoundBox
 * By Starbeamrainbowlabs
 * License: MIT License
 * A super simple JS library for playing sound effects and other audio.
 */
"use strict";class SoundBox{constructor(){this.sounds={},this.instances=[],this.default_volume=1}load(e,s,n){if(this.sounds[e]=new Audio(s),"function"!=typeof n)return new Promise((s,n)=>{this.sounds[e].addEventListener("canplaythrough",s),this.sounds[e].addEventListener("error",n)});this.sounds[e].addEventListener("canplaythrough",n)}remove(e){void 0!==this.sounds&&delete this.sounds[e]}play(e,s,n=null,t=!1){if(void 0===this.sounds[e])return console.error("Can't find sound called '"+e+"'."),!1;var d=this.sounds[e].cloneNode(!0);return d.volume=n||this.default_volume,d.loop=t,d.play(),this.instances.push(d),d.addEventListener("ended",()=>{let e=this.instances.indexOf(d);-1!=e&&this.instances.splice(e,1)}),"function"==typeof s?(d.addEventListener("ended",s),!0):new Promise((e,s)=>d.addEventListener("ended",e))}stop_all(){let e=this.instances.slice();for(let s of e)s.pause(),s.dispatchEvent(new Event("ended"))}}SoundBox.version="0.3.7";
